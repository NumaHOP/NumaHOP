<div>
    <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-8">
            <h2 ng-init="username = account.login" translate>Changer le mot de passe pour [<b>{{username}}</b>]</h2>

            <div class="alert alert-success" ng-show="success" translate>Le mot de passe a été modifié !</div>
            <div class="alert alert-danger" ng-show="error" translate><strong>Une erreur est survenue!</strong> Le mot de passe n'a pas pu être modifié.</div>

            <div class="alert alert-danger" ng-show="doNotMatch" translate>Le nouveau mot de passe et sa confirmation ne sont pas égaux !</div>

            <form name="form" role="form" novalidate class="ng-scope ng-invalid ng-invalid-required ng-dirty ng-valid-minlength" ng-submit="changePassword()">
                <div class="form-group">
                    <label translate>Nouveau mot de passe</label>
                    <i
                        class="fa fa-info-circle pointer"
                        aria-hidden="true"
                        uib-tooltip="{{:: 'Le mot de passe doit contenir 12 caractères minimum, au moins 1 majuscule, au moins 1 minuscule, au moins 1 chiffre et au moins un caractère spécial' | translate }}"
                        tooltip-placement="top"
                    ></i>
                    <input
                        type="password"
                        class="form-control"
                        name="password"
                        placeholder="{{::'Nouveau mot de passe' | translate}}"
                        ng-model="password"
                        ng-minlength="12"
                        ng-maxlength="50"
                        required
                        password-validation
                    />
                    <div class="error" ng-show="form.password.$dirty && form.password.$invalid">
                        <small class="error" ng-show="form.password.$error.required" translate> Votre mot de passe est requis. </small>
                        <small class="error" ng-show="form.password.$error.minlength" translate> Votre mot de passe doit comporter au moins 12 caractères. </small>
                        <small class="error" ng-show="form.password.$error.maxlength" translate> Votre mot de passe ne doit pas comporter plus de 50 caractères. </small>
                        <small class="error" ng-show="form.password.$error.compliante"> Votre mot de passe n'est pas conforme (au moins 1 majuscule, 1 minuscule, 1 chiffre et un caractère spécial). </small>
                    </div>
                    <password-strength-bar password-to-check="password"></password-strength-bar>
                </div>
                <div class="form-group">
                    <label translate>Confirmation du nouveau mot de passe</label>
                    <input
                        type="password"
                        class="form-control"
                        name="confirmPassword"
                        placeholder="{{::'Confirmation du nouveau mot de passe' | translate}}"
                        ng-model="confirmPassword"
                        ng-minlength="12"
                        ng-maxlength="50"
                        required
                    />
                    <div class="error" ng-show="form.confirmPassword.$dirty && form.confirmPassword.$invalid">
                        <small class="error" ng-show="form.confirmPassword.$error.required" translate> Votre confirmation du mot de passe est requis. </small>
                        <small class="error" ng-show="form.confirmPassword.$error.minlength" translate> Votre confirmation du mot de passe doit comporter au moins 12 caractères. </small>
                        <small class="error" ng-show="form.confirmPassword.$error.maxlength" translate> Votre confirmation du mot de passe ne doit pas comporter plus de 50 caractères. </small>
                    </div>
                </div>

                <button type="submit" ng-disabled="form.$invalid" class="btn btn-primary" translate>Sauvegarder</button>
            </form>
        </div>
        <div class="col-md-2"></div>
    </div>
</div>
