<div class="panel panel-dashboard">
    <div class="panel-heading collapsed pointer" data-toggle="collapse" data-target="#alert-workflow-todo-{{::$ctrl.state}}">
        <h3 class="panel-title">
            <span class="badge pull-right">{{ $ctrl.todoList.length }}</span>
            <span>{{ ::$ctrl.code['workflow.' + $ctrl.state] || $ctrl.state }}</span>
        </h3>
    </div>
    <div class="panel-body no-padding">
        <div class="table-responsive collapse" id="alert-workflow-todo-{{::$ctrl.state}}">
            <table class="table table-striped table-hover margin-b5">
                <thead>
                <tr>
                    <th class="text-left" translate>Projet</th>
                    <th class="text-left" translate>Lot</th>
                    <th class="text-left" translate>PGCN Id</th>
                    <th ng_if="ctrl.isQualityControlOrDocumentValidation($ctrl.state)" class="text-left" translate>Statut</th>
                    <th ng_if="ctrl.isQualityControlInProgress($ctrl.state)" class="text-left" translate>Nb.pages</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="item in $ctrl.todoList" >
                    <td class="text-left">
                        {{ ::item.projectName }}
                    </td>
                    <td class="text-left">
                        {{ ::item.lotLabel }}
                    </td>
                    <td class="text-left nowrap">
                        {{ ::item.docPgcnId }}
                    </td>
                    <td class="text-left nowrap" ng_if="ctrl.isQualityControlOrDocumentValidation($ctrl.state)">
                        {{ ::$ctrl.code['digitalDocument.' + item.docStatus] }}
                    </td>
                    <td class="text-center nowrap" ng_if="ctrl.isQualityControlInProgress($ctrl.state)">
                        {{ ::item.totalPage }}
                    </td>
                    <td class="text-right" ng-if="item.docIdentifier">
                        <numa-workflow-link numa-link-parameters="{item: item, state: $ctrl.state}"></numa-workflow-link>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
